---
pagination:
  data: collections.postsByCategory
  size: 1
  alias: categoryData
  addAllPagesToCollections: true
permalink: "/de/nachrichten/kategorien/{{ categoryData.key | slugify }}/index.html"
layout: layouts/base.njk
lang: de
eleventyComputed:
  categoryName: (data) => data.categoryData.key
  title: "(data) => data.categoryData.key + ' Artikel | Diaeta Blog'"
  description: "(data) => 'Entdecken Sie alle Artikel in der Kategorie ' + data.categoryData.key + ' von Pierre Abou-Zeid, Ernährungsberater in Brüssel.'"
  canonicalUrl: "(data) => 'https://diaeta.be' + data.page.url"
---

{# Set postsInThisCategory for easier looping in the template #}
{% set postsInThisCategory = categoryData.value %}

<section class="service-hero rd-hero">
    <div class="container">
        <div class="rd-hero-content">
            <span class="hero-badge rd-hero-badge animate-on-scroll fade-in"><i class="fa-solid fa-tag hero-badge-icon"></i>Kategorie</span>
            <h1 class="animate-on-scroll fade-up">{{ categoryData.key }}</h1>
            <p class="lead animate-on-scroll fade-up delay-200">
                Alle Artikel in der Kategorie "{{ categoryData.key }}" entdecken
            </p>
        </div>
    </div>
</section>

<section class="content-section actualites-listing-section bg-white">
    <div class="container">
        <div class="row">
            <div class="col-lg-9">
                {% if postsInThisCategory.length > 0 %}
                <div class="row g-4">
                    {% for post in postsInThisCategory %}
                    <div class="col-md-6 d-flex">
                        <article class="article-teaser-card animate-on-scroll fade-up w-100">
                            {% if post.data.image %}
                            <a href="{{ post.url | url }}" class="teaser-card-image-link" aria-hidden="true" tabindex="-1">
                                <img src="{{ post.data.image | url }}" alt="{{ post.data.imageAlt | default(post.data.title) }}" class="teaser-card-image" loading="lazy">
                            </a>
                            {% endif %}
                            <div class="teaser-card-body">
                                <span class="teaser-card-category">{{ categoryData.key }}</span>
                                <h3 class="teaser-card-title h5"><a href="{{ post.url | url }}">{{ post.data.title }}</a></h3>
                                {% set excerpt = post.data.description %}
                                {% if not excerpt and post.templateContent %}{% set excerpt = post.templateContent | striptags | truncate(100) %}{% elif excerpt %}{% set excerpt = excerpt | truncate(100) %}{% endif %}
                                {% if excerpt %}<p class="teaser-card-excerpt">{{ excerpt }}</p>{% endif %}
                                <div class="teaser-card-meta">
                                     {% if post.data.date %}<span class="teaser-card-date"><i class="fa-regular fa-calendar"></i> {{ post.date | date }}</span>{% endif %}
                                    <a href="{{ post.url | url }}" class="btn btn-sm btn-outline-primary teaser-card-readmore">Weiterlesen <i class="fa-solid fa-arrow-right fa-xs"></i></a>
                                </div>
                            </div>
                        </article>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <p class="text-center"><em>Keine Artikel in dieser Kategorie gefunden.</em></p>
                {% endif %}
            </div>

            <aside class="col-lg-3 mt-5 mt-lg-0">
                <div class="sidebar-widget">
                    <h4 class="sidebar-title">Alle Kategorien</h4>
                    {% if collections.uniqueCategories.length > 0 %}
                        <ul class="list-unstyled category-list">
                            {% for category in collections.uniqueCategories %}
                            <li>
                                <a href="{{ ('/de/nachrichten/kategorien/' + category | slugify + '/') | url }}" {% if category == categoryData.key %}class="active"{% endif %}>{{ category }} 
                                    <span class="badge bg-primary rounded-pill">
                                        {{ collections.postsByCategory[category].length }}
                                    </span>
                                </a>
                            </li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                    <div class="mt-4">
                        <a href="{{ '/de/neuigkeiten/' | url }}" class="btn btn-outline-primary btn-sm">← Alle Artikel</a>
                    </div>
                </div>
            </aside>
        </div>
    </div>
</section>
