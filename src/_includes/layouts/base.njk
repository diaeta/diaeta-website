<!DOCTYPE html>
<html lang="{{ lang | default('fr') }}"> {# Sets language from page data, defaults to 'fr' #}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {# Page title and description will come from individual page front matter #}
    <title>{{ title }}</title>
    <meta name="description" content="{{ description }}">

    {# --- Copied & Paths UPDATED from your index.html <head> --- #}
    <link rel="preload" href="/fonts/playfair-display-v30-latin-700.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/fonts/poppins-v20-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/fonts/poppins-v20-latin-500.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/images/logo.svg" as="image">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    {# Main Stylesheet - IMPORTANT: Path is root-relative #}
    <link href="/css/style.css" rel="stylesheet">

    {# Favicons - IMPORTANT: Paths are root-relative #}
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Diaeta",
      "url": "https://diaeta.be"
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Diaeta",
      "url": "https://diaeta.be",
      "logo": "https://diaeta.be/images/logo.svg",
      "telephone": "+32479355551",
      "email": "pierre@diaeta.be",
      "description": "Diaeta offre une nutrition personnalisée et scientifique à Bruxelles pour la perte de poids durable, la gestion du diabète, du SCI (Syndrome de l'Intestin Irritable), et du cholestérol. Approche bienveillante par diététicien nutritionniste agréé.",
      "sameAs": [
        "https://www.facebook.com/Dieteticien.colon.irritable/",
        "https://www.linkedin.com/in/pierre-abou-zeid/",
        "https://www.instagram.com/expert.fodmap/",
        "https://www.tiktok.com/@expert.fodmap"
      ]
    }
    </script>

</head>
<body>
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>

    {# Include the header partial #}
    {% include "partials/header.njk" %}

    <main id="main-content">
        {# This is where the content from each specific page will be inserted #}
        {{ content | safe }}
    </main>

    {# Include the footer partial #}
    {% include "partials/footer.njk" %}

    {# --- Copied & Paths UPDATED from bottom of your index.html --- #}
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

     {# DATA INJECTION SCRIPT - PLACE BEFORE MAIN.JS #}
    {# This script will only output if 'cabinets' data is available in the current page's context #}
    {% if cabinets %}
    <script>
      window.diaetaCabinetsData = {{ cabinets | dump | safe }};
    </script>
    {% endif %}

    {# Your JS files - IMPORTANT: Paths are root-relative #}
    <script src="/js/main.js"></script>
    <script src="/js/animations.js"></script>
    {# Conditionally load these later if needed, or ensure main.js handles initialization #}
    {# <script src="/js/clinic-locator.js"></script> #}
    {# <script src="/js/contact-form.js"></script> #}
    {# --- End scripts --- #}

</body>
</html>