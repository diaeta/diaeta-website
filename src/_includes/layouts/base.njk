<!DOCTYPE html>
{% set current_lang = page.lang | default('en') %}
<html lang="{{ current_lang }}" dir="{{ page.dir | default('ltr') }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {# Page title and description will come from individual page front matter, or use site default #}
    <title>{{ title | default(i18n.site_title[current_lang]) }}</title>
    <meta name="description" content="{{ description | default(i18n.site_description[current_lang] | default('')) }}">

    <link rel="preload" href="/images/logo.svg" as="image">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    {# Main Stylesheet - IMPORTANT: Path is root-relative #}
    <link href="/css/style.css" rel="stylesheet">

    {# Favicons - IMPORTANT: Paths are root-relative #}
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Diaeta",
      "url": "https://diaeta.be"
    }
    </script>

    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "DietNutrition", // Consistent type
  "@id": "https://diaeta.be#organization", // Consistent ID
  "name": "Diaeta",
  "url": "https://diaeta.be/fr/", // Main French site URL
  "logo": "https://diaeta.be/images/logo.svg",
  "telephone": "+32479355551",
  "email": "info@diaeta.be", // Consistent email
  "description": "Diaeta offre une nutrition personnalisée et scientifique à Bruxelles pour la perte de poids durable, la gestion du diabète, du SCI (Syndrome de l'Intestin Irritable), et du cholestérol. Approche bienveillante par diététicien nutritionniste agréé.",
  "address": { // Add the primary address here too for consistency
    "@type": "PostalAddress",
    "streetAddress": "Dieweg 99",
    "addressLocality": "Uccle",
    "postalCode": "1180",
    "addressRegion": "Région de Bruxelles-Capitale",
    "addressCountry": "BE"
  },
  "sameAs": [
    "https://www.facebook.com/Dieteticien.colon.irritable/",
    "https://www.linkedin.com/in/pierre-abou-zeid/",
    "https://www.instagram.com/expert.fodmap/",
    "https://www.tiktok.com/@expert.fodmap"
  ],
  "priceRange": "50€-80€", // CHAMP AJOUTÉ
  "image": { // CHAMP AJOUTÉ (avec exemple d'ImageObject)
    "@type": "ImageObject",
    "url": "https://diaeta.be/images/cabinets/cabinet-dietetique.jpg",
    "caption": "Cabinet Diaeta", 
    "height": "800", 
    "width": "800" 
  }
}
</script>

</head>
<body>
    <a href="#main-content" class="skip-link">{{ i18n.skip_link[current_lang] | default('Skip to main content') }}</a>

    {# Include the header partial #}
    {% include "partials/header.njk" %}

    <main id="main-content">
        {# This is where the content from each specific page will be inserted #}
        {{ content | safe }}
    </main>

    {# Include the footer partial #}
    {% include "partials/footer.njk" %}

    {# --- Copied & Paths UPDATED from bottom of your index.html --- #}
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

     {# DATA INJECTION SCRIPT - PLACE BEFORE MAIN.JS #}
    {# This script will only output if 'cabinets' data is available in the current page's context #}
    {% if cabinets %}
    <script>
      window.diaetaCabinetsData = {{ cabinets | dump | safe }};
    </script>
    {% endif %}

    {# Your JS files - IMPORTANT: Paths are root-relative #}
    <script src="/js/main.js"></script>
    {# --- End scripts --- #}

    <button id="scrollToTopBtn" title="Go to top">
        <i class="fas fa-arrow-up"></i>
    </button>
</body>
</html>