/*
Dedicated stylesheet for the Weight-Loss Knowledge Hub.
Prefix: .wl-hub-
Visual Direction: Clean, modern, energetic with subtle diagonal accents and gentle gradients.
*/

/* --- Hub Section Variables & Base --- */
:root {
    --wl-hub-primary-color: #2563eb; /* Energetic Blue */
    --wl-hub-secondary-color: #16a34a; /* Vibrant Green */
    --wl-hub-accent-color: #f97316; /* Warm Orange */
    --wl-hub-bg-light: #f8fafc; /* Very Light Slate */
    --wl-hub-bg-dark: #eef2ff; /* Indigo Dye */
    --wl-hub-text-dark: #1e293b; /* Slate 800 */
    --wl-hub-text-light: #64748b; /* Slate 500 */
    --wl-hub-border-color: #e2e8f0; /* Slate 200 */
}

#weight-loss-knowledge-hub {
    padding: 60px 0;
    background-color: var(--wl-hub-bg-light);
    position: relative;
    overflow: hidden;
}

/* Diagonal accent background */
#weight-loss-knowledge-hub::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: repeating-linear-gradient(
        -45deg,
        transparent,
        transparent 25px,
        rgba(37, 99, 235, 0.04) 25px,
        rgba(37, 99, 235, 0.04) 50px
    );
    opacity: 0.5;
    z-index: 0;
}

.wl-hub-container {
    position: relative;
    z-index: 1;
}

.wl-hub-title {
    font-size: 2.8rem;
    font-weight: 700;
    color: var(--wl-hub-text-dark);
    margin-bottom: 1rem;
}

.wl-hub-intro {
    font-size: 1.15rem;
    color: var(--wl-hub-text-light);
    max-width: 750px;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 3rem;
}

/* --- Filter/Search Controls --- */
.wl-hub-controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2.5rem;
    flex-wrap: wrap;
}

.wl-hub-search-input {
    min-width: 300px;
    padding: 0.75rem 1.25rem;
    border: 1px solid var(--wl-hub-border-color);
    border-radius: 50px;
    font-size: 1rem;
    transition: all 0.3s ease;
}

.wl-hub-search-input:focus {
    outline: none;
    border-color: var(--wl-hub-primary-color);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
}

.wl-hub-tag-filter .btn {
    border-radius: 50px;
    font-weight: 500;
}

/* --- Topic Card Grid --- */
.wl-hub-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.75rem;
}

.wl-hub-card {
    background-color: #fff;
    border-radius: 16px;
    border: 1px solid var(--wl-hub-border-color);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    overflow: hidden;
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    transition: all 0.3s ease;
}

.wl-hub-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(37, 99, 235, 0.1);
    border-color: var(--wl-hub-primary-color);
}

.wl-hub-card__content {
    padding: 1.75rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.wl-hub-card__title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--wl-hub-text-dark);
    margin-bottom: 0.75rem;
}

.wl-hub-card__summary {
    font-size: 0.95rem;
    color: var(--wl-hub-text-light);
    line-height: 1.6;
    flex-grow: 1;
    margin-bottom: 1.25rem;
}

.wl-hub-card__tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
}

.wl-hub-card__tag {
    background-color: var(--wl-hub-bg-dark);
    color: var(--wl-hub-primary-color);
    font-size: 0.75rem;
    font-weight: 500;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
}

.wl-hub-card__cta {
    display: inline-flex;
    align-items: center;
    align-self: flex-start;
    color: var(--wl-hub-primary-color);
    font-weight: 600;
    text-decoration: none;
}

.wl-hub-card__cta .arrow-icon {
    margin-left: 0.5rem;
    transition: transform 0.2s ease;
}

.wl-hub-card:hover .arrow-icon {
    transform: translateX(4px);
}

/* --- Topic Page Styles --- */
.wl-topic-page-header {
    padding: 40px 0;
    text-align: center;
    background: linear-gradient(135deg, var(--wl-hub-bg-dark), #fff);
}
.wl-topic-page-header h1 {
    color: var(--wl-hub-text-dark);
}

.wl-topic-updated-date {
    color: var(--wl-hub-text-light);
    font-size: 0.9rem;
    margin-top: -10px;
    margin-bottom: 30px;
}

.wl-topic-key-takeaways {
    background-color: var(--wl-hub-bg-dark);
    border-left: 5px solid var(--wl-hub-secondary-color);
    border-radius: 8px;
    padding: 2rem;
    margin-bottom: 2.5rem;
}

.wl-topic-key-takeaways h3 {
    color: var(--wl-hub-text-dark);
    margin-bottom: 1rem;
}

.wl-topic-key-takeaways ul {
    list-style-type: none;
    padding-left: 0;
}

.wl-topic-key-takeaways li {
    padding-left: 1.5rem;
    position: relative;
    margin-bottom: 0.5rem;
}
.wl-topic-key-takeaways li::before {
    content: 'âœ”';
    color: var(--wl-hub-secondary-color);
    position: absolute;
    left: 0;
}

.wl-topic-toc {
    position: sticky;
    top: 100px; /* Adjust as needed */
    max-height: calc(100vh - 120px);
    overflow-y: auto;
}
.wl-topic-toc .nav-link {
    color: var(--wl-hub-text-light);
    font-size: 0.9rem;
}
.wl-topic-toc .nav-link.active {
    color: var(--wl-hub-primary-color);
    font-weight: 600;
    border-left: 2px solid var(--wl-hub-primary-color);
}

.wl-topic-content h2, .wl-topic-content h3 {
    color: var(--wl-hub-text-dark);
    margin-top: 2.5rem;
    margin-bottom: 1.25rem;
}

.wl-topic-nav {
    display: flex;
    justify-content: space-between;
    margin-top: 3rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--wl-hub-border-color);
}

/* --- Personalized Pathway Styles (scoped) --- */
.pathway {
    position: relative;
    margin-top: 30px;
    background: linear-gradient(180deg, #fff, #fbfdff);
    border: 1px solid #eef2f6;
    border-radius: 22px;
    box-shadow: 0 20px 50px rgba(40, 60, 90, .10);
    overflow: hidden;
    min-height: 640px;
}

.pathway::before{
    content: '';
    position: absolute;
    inset: 0;
    background:
        radial-gradient(1000px 400px at -10% 20%, rgba(111,163,255,.08), transparent 55%),
        radial-gradient(1000px 400px at 110% 75%, rgba(47,191,113,.08), transparent 55%);
    pointer-events: none;
}

.path-canvas{
    position: relative;
    width: 100%;
    min-height: 640px;
    padding: clamp(14px, 2vw, 28px);
}

.path {
    width: 100%;
    height: 100%;
    display: block;
    filter: drop-shadow(0 12px 40px rgba(111,163,255,.12));
}

.milestones{ list-style: none; margin: 0; padding: 0; }
.milestones li{ position: absolute; transform: translate(-50%, -50%); }

.node{
    --node-bg: #fff;
    --node-border: #dbe9ff;
    --node-ring: rgba(111, 163, 255, .45);
    display: inline-grid;
    place-items: center;
    width: clamp(58px, 9vw, 88px);
    aspect-ratio: 1;
    border-radius: 50%;
    border: 2px solid var(--node-border);
    background: radial-gradient(100% 100% at 50% 20%, #fff, var(--node-bg));
    box-shadow: 0 8px 24px rgba(39, 167, 167, .06);
    cursor: pointer;
    transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .3s ease;
    position: relative;
    outline: none;
}
.node:focus-visible{ box-shadow: 0 0 0 3px rgba(59, 130, 246, .35), 0 8px 24px rgba(39, 167, 167, .08); }
.node:hover{ transform: translate(-50%, -50%) scale(1.035); box-shadow: 0 12px 32px rgba(59,130,246,.15); border-color: #6fa3ff; }
.node .pulse{ position: absolute; inset: -8px; border-radius: 50%; background: radial-gradient(60% 60% at 50% 50%, var(--node-ring), transparent 70%); opacity: 0; transition: opacity .25s ease; pointer-events: none; }
.node:hover .pulse{ opacity: 1; }
.node .icon{ width: 52%; height: 52%; display: inline-block; }

.node .label{
    position: absolute; top: -10px; left: 50%; transform: translate(-50%, -100%);
    background: #0f172a; color: #fff; white-space: nowrap; padding: 6px 10px; font-size: 12px; line-height: 1; border-radius: 8px;
    opacity: 0; transition: opacity .2s ease, transform .2s ease; box-shadow: 0 8px 20px rgba(15, 23, 42, .25); pointer-events: none;
}
.node:hover .label, .node:focus-visible .label{ opacity: 1; transform: translate(-50%, calc(-100% - 4px)); }

/* Category accents */
.node[data-type="recipes"]{ --node-bg: linear-gradient(180deg, #fff, #fbfff8); --node-border: #e2f6d5; }
.node[data-type="science"]{ --node-bg: linear-gradient(180deg, #fff, #f8fcff); --node-border: #dbe9ff; }
.node[data-type="mindful"]{ --node-bg: linear-gradient(180deg, #fff, #f7fffe); --node-border: #cdeeed; }
.node[data-type="myths"]{ --node-bg: linear-gradient(180deg, #fff, #fffaf2); --node-border: #ffe5b0; }
.node[data-type="stories"]{ --node-bg: linear-gradient(180deg, #fff, #fff6f6); --node-border: #ffd1d1; }

/* Positions */
.m1{ left: 18%; top: 18%; }
.m2{ left: 68%; top: 28%; }
.m3{ left: 34%; top: 48%; }
.m4{ left: 76%; top: 60%; }
.m5{ left: 45%; top: 78%; }
.m6{ left: 18%; top: 62%; }

/* Legend */
.legend{ display: flex; flex-wrap: wrap; gap: 10px 16px; align-items: center; padding: 16px 20px; margin-top: 14px; color: var(--wl-hub-text-light); font-size: 14px; }
.legend .chip{ display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; background: #fff; border: 1px solid #e8eef6; border-radius: 999px; box-shadow: 0 6px 20px rgba(40, 60, 90, .08); }
.legend .dot{ width: 10px; height: 10px; border-radius: 50%; display: inline-block; }
.legend .chip.recipes .dot{ background: #2fbf71; }
.legend .chip.science .dot{ background: #3b82f6; }
.legend .chip.mindful .dot{ background: #27a7a7; }
.legend .chip.myths .dot{ background: #ffb703; }
.legend .chip.stories .dot{ background: #ec5f5f; }

/* Dialogs */
.dialog{ position: fixed; inset: 0; display: none; align-items: center; justify-content: center; background: rgba(15, 23, 42, .35); z-index: 1000; }
.dialog[aria-hidden="false"]{ display: flex; }
.dialog__panel{ width: min(720px, 92vw); background: #fff; border-radius: 16px; box-shadow: 0 24px 80px rgba(15, 23, 42, .35); overflow: hidden; outline: none; }
.dialog__header{ display: flex; align-items: center; justify-content: space-between; padding: 16px 18px; border-bottom: 1px solid #eef2f6; }
.dialog__title{ font-size: 1.1rem; margin: 0; color: var(--wl-hub-text-dark); }
.dialog__close{ background: #fff; border: 1px solid #e8eef6; border-radius: 10px; width: 36px; height: 36px; display: inline-grid; place-items: center; color: #64748b; cursor: pointer; }
.dialog__close:focus-visible{ box-shadow: 0 0 0 3px rgba(59, 130, 246, .35); outline: none; }
.dialog__body{ padding: 18px; color: var(--wl-hub-text-dark); }
