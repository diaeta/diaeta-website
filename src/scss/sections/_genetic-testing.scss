/* SCSS Partials: sections - genetic testing (homepage teaser & page) */

@use 'sass:list'; /* SCSSPartials */
@use 'sass:color';

/* Styles for the genetic testing teaser section on the homepage (id="genetic-testing") */
.genetic-section { /* Assuming .section class handles this, or set here if unique */
  background-color: $primary-50; /* position for pseudo-elements */
  position: relative; /* For pseudo-elements */
  overflow: hidden; /* For pseudo-elements */

  &.section { /* If it also has the generic .section class */
    background-color: $primary-50; /* Explicitly set for this section variant */
  }

  /* Pseudo-elements from original CSS for this section (if different from others) */
  /* Or rely on global section pseudo-elements if they are consistent. */
  /* For now, assuming they might be unique or need slight variation. */
  &::before,
  &::after {
    content: "";
    position: absolute;
    border-radius: 50%;
    z-index: 0;
  }

  &::before { /* Example, adjust values from original if they differ */
    width: 300px; /* width for Example, adjust values from original if they differ */
    height: 300px;
    top: -100px;
    right: -100px;
    background: radial-gradient(circle, rgba(list.nth($accent-rgb,1),list.nth($accent-rgb,2),list.nth($accent-rgb,3), 15%), transparent 70%);
  }

  &::after {
    width: 550px;
    height: 550px;
    bottom: -50px;
    left: -50px;
    background: radial-gradient(circle, rgba(list.nth($primary-rgb,1),list.nth($primary-rgb,2),list.nth($primary-rgb,3), 8%), transparent 70%);
  }

  /* Section header specific to this teaser */
  .section-header.text-start { /* Modifier for left-aligned header */
    margin-bottom: $space-6; /* Was mb-4 */ /* margin-bottom for Modifier for left-aligned header */
    .section-tagline {
      background-color: rgba(list.nth($accent-rgb,1),list.nth($accent-rgb,2),list.nth($accent-rgb,3), 15%);
      color: $accent-700; /* Was --accent-700 */ /* Other badge styles from general .section-badge or here */
      display: inline-block; /* Other badge styles from general .section-badge or here */
      padding: $space-1 + pxToRem(1.6px) $space-4; /* font-weight: 600; */ /* Explicit */
      font-size: 0.9rem; /* Explicit */
      margin-bottom: $space-4; /* 1rem */ /* margin-bottom for Explicit */
    }

    .section-title {
      font-size: var(--text-3xl); /* Override default center */
      padding-bottom: $space-2; /* 0.5rem */
      margin-bottom: $space-3; /* From original .mb-3 */ /* margin-bottom for 0.5rem */
      &::after { display: none; } /* Remove centered underline if present from global .section-title */
    }

    .section-subtitle.text-start {
      max-width: none; /* Override general .section-subtitle max-width */
      text-align: left; /* text-align for Override general .section-subtitle max-width */
    }
  }

  /* Text content within the teaser */
  p.mb-3, p.mb-4 { /* General paragraphs in this section */
    /* font-size, line-height from base <p> */
  }

  ul.list-styled-check.small.mb-4 {
    font-size: var(--text-sm); /* From .small */
    margin-bottom: $space-6 !important; /* mb-4 */ /* margin-bottom for From .small */
    li {
      /* Styles for list items, icon handled by .list-styled-check utility */
      strong.text-primary { color: $primary-500 !important; }
      strong.text-accent { color: $accent-500 !important; }
      strong.text-secondary { color: $secondary-500 !important; }
    }
  }

  .cta-equal-width-group { /* Utility class */
    display: flex; /* Utility class */
    gap: $space-3; /* Utility class */
    flex-wrap: wrap; /* From original, if this class is defined in _utilities.scss */
    .btn.cta-genetic-test { /* BEM: .button .button--genetic-test-cta */
      flex-grow: 1; /* From original */
      flex-basis: 0; /* From original */
      text-align: center; /* From original */
      justify-content: center; /* From original */
      /* Specific styling for these buttons if not covered by .btn-primary and .btn-outline-accent */
      &.btn-primary { @extend .button--primary; } /* Ensure it gets base + primary styles */
      &.btn-outline-accent { @extend .button--outline-accent; } /* Ensure it gets base + outline accent styles */
      i { margin-right: $space-2; }
    }
  }

  .intro-visual {
    display: inline-block; /* From original */
    max-width: 450px; /* From original */ /* max-width for 1rem */
    text-align: center; /* Center the image and caption if they are inline-block */ /* text-align for From original */

    .dna-animation {
      position: relative; /* from original, but image will define this better */
      margin: $space-4 auto; /* from original */ /* margin for from original, but image will define this better */
      /* perspective: none; */ /* From original override */

      .dna-image {
        width: 100%;
        height: 100%;
        object-fit: contain;
        opacity: 0.9; /* From original override */
        border: none; /* from original inlinestyle */
        display: block; /* from original inlinestyle */
        border-radius: $border-radius-md; /* from .rounded */
        /* box-shadow: $box-shadow-sm; */ /* from .shadow-sm */
      }
    }

    .text-muted.fst-italic.text-sm.mt-3 { /* Caption text */
      font-style: italic; /* from fst-italic */ /* font-style for Caption text */
      font-size: var(--text-sm); /* from text-sm */ /* font-size for Caption text */
      margin-top: $space-3; /* from mt-3 */ /* margin-top for Caption text */
      color: $text-secondary; /* from text-muted */ /* color for Caption text */
    }
  }
}

/* Styles specific to the /tests-nutrigenetiques/ page (if different from teaser) */
/* This assumes .genetic-test-card is the primary component on that page. */
.genetic-test-card {
  /* This was partially defined in _cards.scss or needs to be fully defined here or in its own component file. */
  /* For now, assuming common card base from _cards.scss and adding specifics. */
  /* @extend .c-card; */ /* If a generic card base exists */
  display: flex; /* display for If a generic card base exists */
  flex-direction: column;
  text-align: left;
  border: 1px solid $neutral-200; /* SCSS var */

  .card-header {
    border-bottom: 1px solid $neutral-200;
    padding-bottom: $space-5; /* 1.5rem */
    /* text-align: center; */ /* from original .test-card in style.css */ /* text-align for 1.5rem */
  }

  .card-icon {
    width: 60px;
    height: 60px;
    font-size: 1.8rem;
    margin-bottom: $space-4; /* from original */
    margin-left: auto; /* from original */ /* margin-left for from original */
    margin-right: auto; /* from original */ /* margin-right for from original */
     /* Specific background/color for different test types: */
    &.health-card { background: linear-gradient(135deg, rgba(list.nth($primary-rgb,1),list.nth($primary-rgb,2),list.nth($primary-rgb,3),10%), rgba(list.nth($primary-rgb,1),list.nth($primary-rgb,2),list.nth($primary-rgb,3),20%)); color: $primary-500; }
    &.sport-card { background: linear-gradient(135deg, rgb(59 130 246 / 10%), rgb(59 130 246 / 20%)); color: #3b82f6; } /* Direct color value */
    &.fertility-card { background: linear-gradient(135deg, rgba(list.nth($secondary-rgb,1),list.nth($secondary-rgb,2),list.nth($secondary-rgb,3),10%), rgba(list.nth($secondary-rgb,1),list.nth($secondary-rgb,2),list.nth($secondary-rgb,3),20%)); color: $secondary-500; }
  }

  /* h3 for card title - general h3 styles apply */
  /* .price-tag styles (if this is a distinct component) */

  .card-body { /* BEM: .genetic-test-card__body; */
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }

  .target-audience-intro {
    font-size: 0.9rem; /* Explicit */
    color: $text-secondary; /* color for Explicit */
    margin-bottom: $space-4; /* 1rem */
  }

  .benefits-title {
    font-size: 1.05rem; /* Explicit */
    font-weight: $font-semibold; /* 600 */
    margin-bottom: $space-3; /* 0.75rem */ /* margin-bottom for 600 */
  }

  .gene-analysis {
    margin-bottom: $space-4; /* 1rem  */
    padding-left: 0; /* padding-left for 1rem  */
    list-style: none;

    li {
      margin-bottom: $space-1 + pxToRem(2.4px); /* ~0.4rem */
      font-size: 0.9rem; /* font-size for ~0.4rem */
      /* display: flex; */ /* display for align-items: flex-start; */ /* from original .gene-analysis li */
    }

    .gene-marker {
      font-size: 0.8rem;
      margin-right: $space-2; /* 0.5rem */
      /* display: inline-block; */ /* display for 0.5rem */ /* background: ...; padding: ...; border-radius: ... (from original) */
      /* specific colors for health, sport, fertility cards for gene-marker */
    }
  }

  .diaeta-plus-box {
    background-color: rgba(list.nth($primary-rgb, 1),list.nth($primary-rgb,2),list.nth($primary-rgb,3), 3%);
    border-left: 3px solid $primary-200;
    padding: $space-3 $space-4; /* 0.75rem 1rem */
    font-size: 0.9rem; /* Explicit */ /* font-size for 0.75rem 1rem */
    color: $text-secondary; /* color for Explicit */
    border-radius: $border-radius-sm;
    margin-top: auto;
    strong { color: $primary-600; }
  }
}

/* Process timeline for Nutrigenetics page */
.process-timeline-vertical {
  .process-step-detailed {
    background-color: #fff;
    padding: $space-5; /* 1.5rem */
    border-radius: $border-radius-md; /* border-radius for 1.5rem */
    box-shadow: $box-shadow-sm;
    text-align: center;
    transition: $transition-standard;
    display: flex;
    flex-direction: column;
    height: 100%; /* For equal height in a row */

    &:hover {
      transform: translateY(-5px);
      box-shadow: $box-shadow-md;
    }

    .icon {
      font-size: 2rem; /* color for Explicit */
      color: $accent-500; /* Explicit */
      margin-bottom: $space-4; /* 1rem */
      width: 60px; /* width for 1rem */
      height: 60px;
      line-height: 60px; /* To center icon if it's font icon */
      border-radius: 50%; /* border-radius for To center icon if it's font icon */
      background-color: rgba(list.nth($accent-rgb,1),list.nth($accent-rgb,2),list.nth($accent-rgb,3), 10%);
      display: inline-block; /* To allow margin auto if needed, or text-align on parent */
    }

    h4 {
      font-size: var(--text-lg); /* 1.15rem */
      color: $primary-600; /* color for 1.15rem */
      margin-bottom: $space-2; /* 0.5rem */
    }

    p {
      font-size: var(--text-sm); /* 0.9rem */
      color: $text-secondary; /* color for 0.9rem */
      line-height: $leading-relaxed; /* 1.6 */
      flex-grow: 1; /* flex-grow for 1.6 */
    }
  }
}

/* Price Highlight Box on Nutrigenetics page */
.price-highlight-box {
  background-color: $primary-50;
  border: 1px solid $primary-200;
  padding: $space-6 $space-7; /* Was $space-4 $space-5 */
  border-radius: $border-radius-md; /* border-radius for Was $space-4 $space-5 */
  margin-left: auto;
  margin-right: auto;
  max-width: 700px;
  box-shadow: $box-shadow-sm;
  color: $primary-700;
  text-align: center; /* Added for centering content */

  strong {
    color: $primary-600;
    font-weight: $font-bold; /* 700 */
  }
  /* p, h elements within will inherit or be styled by base typography */
}

/* FAQ Accordion (Bootstrap based, customisations if any) */
/* .accordion-button, .accordion-body from original - if these are custom, move them */
/* Otherwise, Bootstrap handles them. */
/* Assuming these are custom tweaks: */
.accordion-button {
  font-weight: $font-medium;
  color: $primary-700;

  &:not(.collapsed) {
    background-color: rgba(list.nth($primary-rgb,1),list.nth($primary-rgb,2),list.nth($primary-rgb,3), 5%);
    color: $primary-600;
  }

  &:focus {
    box-shadow: 0 0 0 0.25rem var(--focus-ring); /* Use CSS var */
  }
}

.accordion-body {
    font-size: var(--text-sm); /* 0.95rem */
    line-height: $leading-relaxed; /* 1.7 */ /* line-height for 0.95rem */
}

/* CTA section at the bottom of Nutrigenetics page */
.test-cta {
  position: relative;
  z-index: 2; /* As per original */
  margin-top: $space-8; /* 5rem */ /* margin-top for As per original */

  .cta-card {
    background: linear-gradient(135deg, $primary-500, $primary-700); /* Darker teal gradient */
    padding: $space-7; /* 3rem */
    border-radius: $border-radius-lg; /* border-radius for 3rem */
    text-align: center;
    color: white;
    box-shadow: 0 15px 40px rgba(list.nth($primary-rgb,1),list.nth($primary-rgb,2),list.nth($primary-rgb,3), 30%);

    h3 {
      color: white;
      font-size: var(--text-3xl); /* 2rem */
      margin-bottom: $space-3; /* 1rem */ /* margin-bottom for 2rem */
      font-weight: $font-semibold; /* 600 */ /* font-weight for 1rem */
    }

    p {
      font-size: var(--text-lg); /* 1.1rem */
      margin-bottom: $space-5; /* 2rem */ /* margin-bottom for 1.1rem */
      max-width: 800px; /* max-width for 2rem */
      margin-left: auto;
      margin-right: auto;
      opacity: 0.9;
    }

    .cta-button {
      padding: $space-4 $space-6; /* gap for 0.5rem */
      gap: $space-2; /* 0.5rem */
      margin: 0 $space-2 $space-4; /* margin for 0 0.5rem 1rem */

      &.cta-primary { /* BEM: .button--cta-primary or modifier to .button--accent */
        @extend .button--accent; /* Green accent button */ /* BEM */
        /* background: $accent-500; */ /* background for Green accent button */
        /* border: 2px solid $accent-500; */ /* border for Green accent button */
        /* color: white; */ /* color for Green accent button */

        &:hover {
          background: white;
          color: $accent-500; /* Text color becomes accent */
          /* transform: translateY(-5px); */ /* transform for Text color becomes accent */
          /* box-shadow: 0 10px 25px rgb(255 255 255 / 30%); */ /* box-shadow for Text color becomes accent */
        }
      }

      &.cta-secondary { /* BEM: .button--outline-light; */
        background: transparent;
        border: 2px solid white;
        color: white;

         &:hover {
          background: white;
          color: $primary-500; /* Text color becomes primary */
          /* transform: translateY(-5px); */ /* transform for Text color becomes primary */
          /* box-shadow: 0 10px 25px rgb(255 255 255 / 20%); */ /* box-shadow for Text color becomes primary */
        }
      }
    }
  }
}
